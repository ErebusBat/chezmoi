hosts:
############################################################
# Gateway Devices
############################################################
  dartp6-nplh:
    Inherits: personal-allowpass
    HostName: 192.168.1.10
  claw:
    # Inherits: dartp6-nplh
    Inherits: dartp6
    LocalForward: "18789 127.0.0.1:18789"

  mbp-nplh:
    Inherits: mbp
    Hostname: 192.168.1.112

############################################################
# Devices / Services
############################################################
  ### RSync.net ############################################
  rsyncnet:
    Hostname: de4062.rsync.net
    User: de4062
    IdentityFile: ~/.ssh/id_rsync_ed25519
    # Detect dead connections after sleep/network changes so restic backups
    # don't hang indefinitely. SSH sends a keepalive every 30s; after 3 missed
    # replies (~90s) the connection is terminated. ConnectTimeout prevents
    # hanging on initial connection if the network is down.
    # All values are in seconds (except ServerAliveCountMax which is a count).
    ServerAliveInterval: 30
    ServerAliveCountMax: 3
    ConnectTimeout: 30
  de4062.rsync.net:
    Inherits: rsyncnet


  ### Routers ##############################################
  # openwrt:
  #   HostName: 10.0.1.1
  #   User: root
  #   Inherits: bat-devices
  #   GatewayConnectTimeout: 5
  #   Gateways:
  #     - direct
  #     - thelio-ts

############################################################
# Servers
############################################################
  ### Home Assistant #######################################
  # hassio:
  #   Hostname: 10.0.0.150
  #   Inherits: raspi
  # hass:
  #   Inherits: hassio
  # hass-droid:
  #   Hostname: 10.0.0.236
  #   User: aburns
  #   Inherits: bat-devices

  ### MBP ##################################################
  mbp-deco:
    Hostname: 192.168.68.75
    Inherits: personal-allowpass
  mbp:
    Hostname: 100.73.19.104
    Inherits: personal-allowpass
  mbp-personal:
    Inherits: mbp

  ### NAS ##################################################
  truenas:
    Hostname: 192.168.68.80
    Inherits: personal-allowpass
  freenas:
    Inherits: truenas
  nas:
    Inherits: truenas

  ### nuc01 ################################################
  nuc01:
    Inherits: personal-server
    # Hostname: nuc01.erebusbat.net
    # Hostname: "[2600:6c67:857f:486b:d5be:5a1:b99:3c14]"
    ForwardAgent: true
    Hostname: 100.65.80.50
  nuc:
    Inherits: nuc01
  plex:
    Inherits: nuc01
  nuc-deco:
    Inherits: personal-server
    # Hostname: 192.168.69.69
    Hostname: nuc01-deco.erebusbat.net
  nuc01-deco:
    Inherits: personal-server
    Hostname: nuc01-deco.erebusbat.net

  ### maze #################################################
  maze:
    Inherits: personal-server
    # Hostname: maze.erebusbat.net
    Hostname: 100.92.65.146
    ForwardAgent: true
    # Hostname: maze.tail04886.ts.net
  nuc02:
    Inherits: maze
  nuc02-deco:
    Inherits: personal-server
    # Hostname: 192.168.70.70
    Hostname: nuc02-deco.erebusbat.net
  maze-deco:
    Inherits: personal-server
    Hostname: nuc02-deco.erebusbat.net

############################################################
# Linux PCs
############################################################
  ### theilo ################################################
  # thelio-deco:
  #   Inherits: personal
  #   Hostname: 192.168.69.75

  ### Sys76 Darter Laptop ##################################
  dartp6:
    Inherits: personal-allowpass
    HostName: 100.92.210.7

#############################################################
# Raspberry Pis
#############################################################
  # Toby's Arcade Machine
  arcade:
    Hostname: 192.168.68.70
    Inherits: raspi

  retropie:
    # Specify full TS domain because it is on a different account
    Hostname: retropie.tail16501.ts.net
    Inherits: raspi

  ### Raspberry PIs ########################################
  # officepi:
  #   Hostname: 10.0.0.20
  #   Inherits: raspi
  # rpi.bat:
  #   Hostname: 10.0.1.167
  #   Inherits: raspi
  # rpi2.bat:
  #   Hostname: 10.0.1.168
  #   Inherits: raspi
  # batpi.bat:
  #   Hostname: 10.0.1.164
  #   Inherits: raspi
  # batpi:
  #   Hostname: 10.0.1.164
  #   Inherits: raspi
  # openwrt:
  #   HostName: 100.103.156.41
  #   User: root

############################################################
# Templates
############################################################
templates:
  personal-gateways:
    GatewayConnectTimeout: 2
    # Gateways:
    #   - direct
    #   - nuc02-deco
    #   - dartp6-nplh
    #   - mbp-nplh
  bat-devices:
    Inherits: personal-gateways
    IdentityFile: ~/.ssh/id_bat_devices
    ForwardAgent: yes
    IdentitiesOnly: yes
    AddKeysToAgent: yes
  bat-devices-admin:
    User: admin
    Inherits: bat-devices
  personal:
    Inherits: personal-gateways
    User: aburns
    ForwardAgent: yes
    IdentitiesOnly: yes
    IdentityFile: ~/.ssh/id_ed25519
    AddKeysToAgent: yes
    GatewayConnectTimeout: 2
  personal-allowpass:
    Inherits: personal-gateways
    User: aburns
    ForwardAgent: yes
    IdentityFile: ~/.ssh/id_ed25519
    AddKeysToAgent: yes
    GatewayConnectTimeout: 2
  personal-server:
    Inherits: personal-allowpass
    RemoteForward: /run/user/1000/gnupg/S.gpg-agent /Users/aburns/.gnupg/S.gpg-agent.extra
  raspi:
    User: pi
    Inherits: bat-devices


