# vim: set ft=bash tabstop=2 shiftwidth=2 expandtab:

# https://www.perplexity.ai/search/how-do-i-configure-gpg-agent-t-l.tiX_O7RZWcQU4a2atYvg?login-source=oneTapThread

#
# WARNING: This file is managed by Chezmoi
#	   Changes will be overwritten!
#

{{ if eq .chezmoi.os "darwin" }}
# Enable GPG Agent Forwarding
#   See myserver/gpg-agent for server stuff
extra-socket {{ .chezmoi.homeDir }}/.gnupg/S.gpg-agent.extra

# Use macOS keychain
pinentry-program /opt/homebrew/bin/pinentry-mac
{{ else if eq .chezmoi.os "linux" }}

# Detect if in SSH or GNOME session
pinentry-program {{ .chezmoi.homeDir }}/.local/bin/pinentry-auto
{{ end }}
# default-cache-ttl 34560000
# max-cache-ttl 34560000
